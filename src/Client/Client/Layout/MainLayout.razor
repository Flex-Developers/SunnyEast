@using Application.Contract.Identity
@inherits LayoutComponentBase

<MudRTLProvider RightToLeft="@_rightToLeft">
    <MudThemeProvider Theme="_currentTheme" @bind-IsDarkMode="@_isDarkMode" @ref="@_mudThemeProvider"/>
    <MudPopoverProvider/>
    <MudDialogProvider/>
    <MudSnackbarProvider/>
    <CascadingAuthenticationState>
        <AuthorizeView Roles="@($"{ApplicationRoles.Administrator}, {ApplicationRoles.Salesman}")">
            <NotAuthorized>
                <MudLayout>
                    <CustomerLayout ThemePreference="_themePreference" ThemePreferenceChanged="ThemePreferenceChanged">
                        @Body
                    </CustomerLayout>
                </MudLayout>
            </NotAuthorized>
            <Authorized>
                <MudLayout>
                    <AdminLayout ThemePreference="_themePreference" ThemePreferenceChanged="ThemePreferenceChanged">
                        @Body
                    </AdminLayout>
                </MudLayout>
            </Authorized>
        </AuthorizeView>
    </CascadingAuthenticationState>

</MudRTLProvider>